<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:frus="http://history.state.gov/frus/ns/1.0"
    xmlns:functx="http://www.functx.com" xmlns:tei="http://www.tei-c.org/ns/1.0"
    exclude-result-prefixes="xs" version="3.0">

    <xsl:template match="@* | node()">
        <xsl:copy>
            <xsl:apply-templates select="@* | node()"/>
        </xsl:copy>
    </xsl:template>

    <!-- Template to find and enhance any <date> attribute that contains a dateTime without a time zone indicator. 
        Historic, current, and future time zone indicator values sourced from TimeAndDate.com -->

    <xsl:template
        match="tei:date/attribute::*[matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <!-- Abu Dhabi and Dubai, United Arab Emirates -->
            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Abu\s+Dhabi|Dubai)', 'i')]]">
                <xsl:choose>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:41')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>
            </xsl:when>

            <!-- Abuja and Lagos, Nigeria -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Abuja|Lagos)', 'i')]]">
                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:13')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>
            </xsl:when>

            <!-- Accra, Ghana -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Accra)', 'i')]]">

                <xsl:choose>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>
            </xsl:when>

            <!-- Addis Ababa/Adis Abeba, Ethiopia -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Addis\s+Ababa|Adis\s+Abeba)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1870-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:34')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1870-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-05-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:35')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-05-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>

            <!-- Algiers, Algeria -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Algiers)', 'i')]]">
                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1891-03-15T00:01:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:12')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1891-03-15T00:01:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-03-11T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:09')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-03-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-06-14T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-06-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-03-24T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-03-24T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-03-09T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-03-09T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-01T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-01T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-02-14T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-02-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-24T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-03-14T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-03-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-06-22T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-06-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-09-11T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-09-11T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-11-19T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-11-19T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-02-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-02-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-08T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-01-29T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-01-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-04-14T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-04-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-04-25T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-04-25T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-09-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-05-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-05-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-03-24T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-03-24T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-09-22T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-09-22T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>

            <!-- Amman, Jordan -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Amman)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:23')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-06-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-06-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-09-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-04-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-04-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-04-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-04-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-05-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-05-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-04-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-04-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-04-17T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-04-17T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-04-10T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-04-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-04-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-04-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-04-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-15T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-15T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-04-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-04-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-09-20T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-09-20T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-04-04T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-04-04T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-09-19T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-09-19T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-04-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-04-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-09-18T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-09-18T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-07-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-09-24T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-09-24T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Amsterdam, Netherlands -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Amsterdam|The\s+Hague)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-09-17T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-04-07T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-04-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-04-05T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-04-04T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-10-08T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-10-08T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-06-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-06-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-10-07T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-10-05T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-06-05T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-06-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-05-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-05-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-10-03T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-05-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-05-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-05-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-05-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-10-07T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-05-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-05-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-10-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-05-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-05-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-10-05T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-05-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-05-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-05-22T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-05-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-05-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-05-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-10-08T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-10-08T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-05-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-05-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-10-07T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-05-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-05-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-10-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-05-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-05-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-05-22T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-05-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-07-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-03T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-05-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-05-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-05-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-05-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-10-08T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-10-08T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-05-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-05-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-02T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>

            <!-- Andorra la Vella, Andorra -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Andorra\s+la\s+Vella)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1901-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:06')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1901-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-09-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>

            <!-- Ankara and Istanbul (Constantinople), Turkey -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Ankara|Constantinople|Istanbul)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1880-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:55')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1880-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1910-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:56')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1910-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-03-28T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-04-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-04-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-03-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-05-13T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-05-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-06-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-06-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-10-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-12-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-12-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-09-21T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-09-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-20T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-10-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-04-18T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-04-18T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-10T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-04-19T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-04-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-04-22T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-04-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-07-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-07-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-05-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-05-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-05-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-05-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-10-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-05-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-05-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-05-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-05-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-06-03T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-06-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-11-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-11-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-11-03T05:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-11-03T05:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-03-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-03-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-03-21T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-03-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-13T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-12T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-11T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-07-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-07-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-20T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-28T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-20T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-20T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>

            <!-- Antananarivo, Madagascar -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Antananarivo)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-07-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:10')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-02-27T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-02-27T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-05-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-05-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>

            <!-- Apia, Samoa -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Apia)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1879-07-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+12:33')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1879-07-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-11:26')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-11:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2010-09-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-11:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>

            <!-- Ashgabat, Turkmenistan -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Ashgabat|Ashkhabad)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-05-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:53')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-05-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-06-21T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-06-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-01-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-01-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>

            <!-- Asmara/Asmera, Eritrea -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Asmara|Asmera)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-05-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:35')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-05-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>

            <!-- Astana and Almaty, Kazakhstan -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Astana|Akmola|Aqmola|Almaty)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-05-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:07')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-05-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-06-21T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-06-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-01-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-01-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>

            <!-- Asunci[óo]n, Paraguay -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Asuncion)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-10T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:50')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-22T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-02-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-02-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-02-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-02-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-02-23T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-02-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Athens, Greece -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Athens)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-07-28T00:01:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:34')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-07-28T00:01:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-07-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-07-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-07-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-11-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-11-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-12T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-11-26T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-11-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-04-11T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-04-11T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-10T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-10T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-02T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-11-26T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-11-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-04-11T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-04-11T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-10T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-10T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-02T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-09-24T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-09-24T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-01T09:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-01T09:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Baghdad, Iraq -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Baghdad)', 'i')]]">
                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:57')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-04-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-04-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-01T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-01T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-04-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-04-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-01T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-01T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-04-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-04-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-01T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-01T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-04-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-04-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-01T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-01T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-04-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-04-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-01T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-01T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-04-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-04-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-01T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-01T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-04-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-04-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-01T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-01T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-04-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-04-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-01T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-01T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-04-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-04-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-01T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-01T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-04-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Baku, Azerbaijan -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Baku)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-05-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-05-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T05:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T05:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T06:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T06:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T05:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T05:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T05:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T05:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T05:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T05:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Bamako, Mali -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Bamako)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-00:32')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-02-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-02-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-06-20T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-06-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Bangui, Central African Republic -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Bangui)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:14')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Bandar Seri Begawan, Brunei -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Bandar\s+Seri\s+Begawan)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:39')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Bangkok, Thailand -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Bangkok|Krung\s+Thep)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:42')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Banjul, Gambia -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Banjul)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:06')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Basseterre, Saint Kitts and Nevis -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Basseterre)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-03-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:10')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-03-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Beirut, Lebanon -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Beirut|Bayr[uū]t|Beyr[uū]t)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1880-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:22')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1880-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-03-28T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-04-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-04-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-03-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-04-22T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-04-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-09-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-09-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-06-22T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-06-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-09-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-05-10T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-05-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-09-29T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-09-28T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Belgrade, Serbia -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Belgrade|Beograd)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt; xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1884-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:22')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1884-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-18T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-18T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-05-08T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-05-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-23T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-23T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Belmopan and Belize [City], Belize -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Belmopan|Belize)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:52')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-02-09T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-02-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-02-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-02-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-02-13T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-02-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-10-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-02-12T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-02-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-02-11T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-02-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-10-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-02-10T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-02-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-10-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-02-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-02-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-10-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-02-14T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-02-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-02-13T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-02-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-10-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-02-12T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-02-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-10-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-02-10T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-02-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-10-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-02-09T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-02-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-10-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-02-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-02-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-02-14T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-02-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-10-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-02-12T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-02-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-02-11T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-02-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-10-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-02-10T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-02-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-10-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-02-09T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-02-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-10-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-02-14T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-02-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-02-13T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-02-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-02-12T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-02-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-02-11T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-02-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-10-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-02-09T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-02-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-10-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-02-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-02-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-10-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-02-14T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-02-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-12-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-12-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-02-09T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-02-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-12-18T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-12-18T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-02-12T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-02-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Berlin, Bonn, Frankfurt, and Wiesbaden, Germany -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Berlin|Bonn|Frankfurt|Wiesbaden)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1893-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:53')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1893-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-04-30T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-04-30T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-09-17T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-16T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-04-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-05-24T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-05-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-11-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-11-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-04-14T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-04-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-07T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-05-11T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-05-11T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-06-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-06-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-10-05T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-04-18T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-04-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-03T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-10T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-10T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Bern, Geneva, and Zürich, Switzerland -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Berne?|Geneva|Z[üu]rich)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1853-07-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:34')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1853-07-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1894-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:29')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1894-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-05-05T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-05-05T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-10-06T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-10-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-05-04T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-05-04T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-10-05T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-10-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Bishkek, Kyrgyzstan -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Bishkek)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-05-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:58')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-05-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-06-21T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-06-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00+06:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00+06:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-08-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-08-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-04-12T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-04-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-04-11T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-04-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-04-10T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-04-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-04-09T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-04-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-04-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-04-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-09-29T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:30:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T02:30:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:30:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T02:30:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:30:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T02:30:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:30:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Bissau, Guinea-Bissau -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Bissau)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:02')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Bogota, Colombia -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Bogot[aá]|Santaf[eé]|Santa\s+F[eé]\s+de\s+Bogot[aá])', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1914-11-23T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:56')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1914-11-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-05-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-05-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-04-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-04-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>

            <!-- Bratislava, Slovakia -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Bratislava)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1891-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:57')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1891-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-04-30T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-04-30T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-09-17T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-16T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-04-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-09-17T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-08T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-11-18T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-11-18T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-05-06T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-05-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-20T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-10-05T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-04-18T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-04-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-03T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-09T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Brazzaville, Republic of the Congo -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Brazzaville)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:01')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Bridgetown, Barbados -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Bridgetown)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:58')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-06-12T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-06-12T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-02T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-20T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Brasilia, Rio de Janeiro, São Paulo, Brazil -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Brasilia|Rio\s+de\s+Janeiro|S[ãa]o\s+Paulo)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1914-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:06')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1914-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-03T11:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-03T11:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-12-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-12-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-04-16T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-04-16T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-12-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-12-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-12-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-12-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-12-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-12-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-10-23T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-10-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-01-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-01-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-03-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-12-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-12-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-11-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-11-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-02-14T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-02-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-02-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-02-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-01-29T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-01-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-02-11T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-02-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-21T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-02-17T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-02-17T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-20T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-02-09T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-02-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-01-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-01-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-17T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-17T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-02-20T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-02-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-02-19T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-02-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-02-11T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-02-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-02-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-02-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-11T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-02-21T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-02-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-02-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Brussels, Belgium -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Brussels)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1892-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:17')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1892-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1914-11-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1914-11-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-16T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-11-11T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-11-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-01T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-01T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-02-14T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-02-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-24T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-03-14T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-03-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-10-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-10-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-03-25T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-03-25T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-04-21T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-04-21T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-10-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-03-29T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-03-29T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-10-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-04-04T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-04-04T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-10-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-04-17T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-04-17T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-04-09T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-04-09T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-10-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-04-14T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-04-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-10-07T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-04-21T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-04-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-10-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-04-14T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-04-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-10-05T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-04-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-10-08T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-10-08T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-04-08T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-04-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-10-07T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-10-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-04-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-04-04T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-03T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-11-19T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-11-19T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-02-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-02-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-05-20T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-05-20T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-09-17T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-05-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-05-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-07T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-02T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Bucharest, Romania -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Buchare[sș]t|București)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-07-24T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:44')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-07-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-05-21T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-05-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-10-02T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-10-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-04-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-10-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-04-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-04-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-10-07T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-10-07T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-04-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-04-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-10-06T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-10-06T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-04-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-04-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-10-04T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-10-04T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-04-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-04-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-03T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-04-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-04-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-02T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-10-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-05-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-05-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-05T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-05T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T04:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Budapest, Hungary -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Budapest)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1890-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:16')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1890-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-04-30T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-04-30T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-09-17T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-16T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-04-15T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-04-15T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-11-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-11-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-05-01T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-05-01T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-06T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-10-05T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-04-04T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-03T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-10T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-10T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-04-17T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-04-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-10-23T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-10-23T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-05-23T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-05-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-05-23T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-05-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-06-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-06-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-09-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-06-02T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-06-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Buenos Aires, Argentina -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Buenos\s+Aires)', 'i')]]">

                <xsl:choose>

                    <!-- 1800 to 1894 -->
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1894-10-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:53')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1894-10-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:16')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-12-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-12-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <!-- 1940s -->


                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-07-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-06-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-06-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-10-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-08-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-08-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <!-- 1960s -->

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-12-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-12-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-10-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-10-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-10-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-04-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-04-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-04-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-10-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-04-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-04-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-10-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-01-23T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-01-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-12-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-12-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <!-- 1990s -->

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-21T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-20T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-18T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-18T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Cairo, Egypt -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Cairo)', 'i')]]">

                <xsl:choose>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1900-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:05')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1900-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-07-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-07-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-09-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-09-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-10-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-10-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-11-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-05-10T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-05-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-07-25T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-07-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-07-12T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-07-12T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-05-06T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-05-06T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-05-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-05-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-04-28T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-04-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-29T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-04-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-04-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-09-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-04-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-04-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-09-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-04-24T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-04-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-09-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-04-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-09-29T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Canberra and Sydney, Australia -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Canberra|Sydney)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1895-02-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:04')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1895-02-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-01-01T00:01:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-01-01T00:01:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-01-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-01-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-09-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-02-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-02-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-03-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-03-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-03-03T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-03-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-03-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-03-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-03-07T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-03-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-03-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-03-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-03-05T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-03-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-03-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-03-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-03-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-03-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-03T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-16T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-15T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-15T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-20T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-20T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-19T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-19T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-03T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-07T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-05T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Caracas, Venezuela -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Caracas)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-02-12T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:27')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-02-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2007-12-09T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Castries, Saint Lucia -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Castries)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:04')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Chisinau, Moldova -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Chi[sș]in[aă]u|Kishinev|Kishinyov)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-02-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:55')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-02-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-07-24T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:44')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-07-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-05-21T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-05-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-10-02T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-10-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-04-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-10-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-04-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-04-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-10-07T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-10-07T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-04-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-04-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-10-06T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-10-06T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-04-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-04-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-10-04T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-10-04T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-04-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-04-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-03T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-04-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-04-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-02T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-10-01T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-08-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-08-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-07-17T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-07-17T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-08-24T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-08-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-05-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-05-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Colombo and Sri Jayewardenepura Kotte, Sri Lanka -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Colombo|Sri\s+Jayewardenepura\s+Kotte)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1906-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:19')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1906-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-01-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-01-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-10-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-10-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-05-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-05-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-26T00:30:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-26T00:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('2006-04-15T00:30:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Conakry, Guinea -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Conakry)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-00:54')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-02-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-02-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Cophenhagen, Denmark -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Copenhagen|K[øo]benhavn)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1894-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:50')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1894-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-05-14T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-05-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-09-30T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-09-30T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-05-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-05-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-08-15T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-08-15T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-09-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-09-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-05-04T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-05-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-08-10T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-08-10T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-05-09T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-05-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-08-08T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-08-08T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Dakar, Senegal -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Dakar)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:09')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Damascus, Syria -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Damascus|Dimashq)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:25')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-04-18T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-04-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-04-17T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-04-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-10-02T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-10-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-04-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-04-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-10-07T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-10-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-04-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-09-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-09-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-04-24T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-05-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-09-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-09-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-09T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-09T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-02-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-02-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-09T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-04-01T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-04-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-04-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Dar es Salaam and Dodoma, Tanzania -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Dar\s+es\s+Salaam|Dar[-–—]es[-–—]Salaam|Dodoma)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:37')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:45')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Dhaka, Bangladesh -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Dhaka)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1890-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:01')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1890-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:53')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-05-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-05-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-09-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2009-06-19T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('2009-06-19T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2009-12-31T23:59:59'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('2009-12-31T23:59:59')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Dili, Timor-Leste -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Dili)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+08:22')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-02-21T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-02-21T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-05-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-05-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Djibouti, Djibouti -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Djibouti)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-07-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:52')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Doha, Qatar -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Doha|Ad[-\s+]Dawhah|ad[-\s+]D[ōo][ḥh]a)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:26')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Dublin, Ireland -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Dublin)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-05-21T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-00:25')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-05-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:34')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-08T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-09-17T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-03-24T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-03-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-03-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-10-03T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-10-08T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-10-08T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-04-22T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-04-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-09-16T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-04-13T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-04-13T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-09-21T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-09-21T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-04-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-04-18T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-04-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-10-03T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-04-10T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-04-10T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-04-22T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-04-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-10-07T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-04-21T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-04-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-10-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-04-13T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-04-13T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-10-05T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-04-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-04-17T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-04-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-04-09T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-04-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-10-08T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-10-08T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-04-22T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-04-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-10-07T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-04-14T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-04-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-10-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-04-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-04-18T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-04-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-03T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-04-10T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-04-10T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-11-19T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-11-19T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-02-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-02-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-03-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-03-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-11-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-04-18T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-04-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-03T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-04-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-10-22T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-10-22T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-04-15T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-10-21T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-10-21T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-04-20T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-04-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-04-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-04-11T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-04-11T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-10-03T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-04-17T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-04-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-04-22T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-04-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-10-07T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-04-14T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-04-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-10-06T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-04-20T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-04-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-10-05T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-04-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-10-04T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-04-10T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-04-10T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-10-02T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-10-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-10-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-10-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-10-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-10-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-03-22T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-03-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-10-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-03-21T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-03-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-10-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-10-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-03-20T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-03-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-10-23T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-10-23T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-03-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-03-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-10-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-10-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-02-18T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-02-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-31T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-03-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-03-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-03-18T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-03-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-03-17T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-03-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-03-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-03-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-03-21T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-03-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-03-20T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-03-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-23T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-23T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-03-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-03-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-03-18T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-03-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-03-16T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-03-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-26T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-24T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-23T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-23T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-25T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-23T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-23T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-28T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-24T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-23T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-23T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-22T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Dushanbe, Tajikistan -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Dushanbe)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+04:35')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-06-21T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-06-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-09T03:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-09T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Freetown, Sierra Leone -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Freetown)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1913-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-00:53')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1913-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-10-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-00:20')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Gabrone, Botswana -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Gabrone)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1885-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:43')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1885-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1903-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:30')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1903-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-09-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-09-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-03-19T02:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-03-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Georgetown, Guyana -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Georgetown)', 'i')]]">

                <xsl:choose>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1915-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:52')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1915-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-07-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:45')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-07-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Gitega and Bujumbura, Burundi -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Gitega|Bujumbura)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1890-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+01:57')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1890-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Guatemala City, Guatemala -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Guatemala)', 'i')]]">

                <xsl:choose>

                    <!-- 1800 to 1918 -->

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:02')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <!-- 1918 to 1973 -->

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-11-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <!-- 1970s to 2006 -->

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-11-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-02-24T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-02-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-05-21T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-05-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-22T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-23T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2006-04-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Hagåtña, Guam -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Hag[åa]t[ñn]a|Aga[ñn]a)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1844-12-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-14:21')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1844-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1901-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+09:39')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1901-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Hanoi and Ho Chi Minh/Saigon, Vietnam -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Hanoi|H[oồ]\s+Ch[ií]\s+Minh|Saigon)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-05-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:06')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-12-31T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-12-31T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-03-14T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-03-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-07-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-12-31T23:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-12-31T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-06-13T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-06-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Harare, Zimbabwe -->

            <xsl:when test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Harare)', 'i')]]">

                <xsl:choose>

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1903-03-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:04')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1903-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>


            <!-- Havana/Habana, Cuba -->

            <xsl:when
                test=".[ancestor::tei:dateline//tei:placeName[matches(., '(Habana|Havana)', 'i')]]">

                <xsl:choose>

                    <!-- 1800 to 1925 -->
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-07-01T12:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:29')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-07-01T12:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-06-10T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-06-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-10-10T12:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-10-10T12:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-06-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-06-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-09-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-09-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-06-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-06-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-09-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-09-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-06-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-06-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-06-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-06-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-09-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-06-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-10-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-04-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-04-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-09-10T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-09-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-04-14T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-04-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-09-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-09-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-04-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-04-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-10-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <!-- 1970s -->

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-10-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-04-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-04-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-10-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-10-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-04-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-04-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-04-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-04-29T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-04-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-04-28T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-04-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-27T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-26T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-04-25T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-04-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-31T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-24T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-30T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-05-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-05-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-03-18T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-03-18T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-14T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-03-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-03-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-12T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <!-- 1980s -->

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-05-10T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-05-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-11T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-05-09T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-05-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-10T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-05-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-05-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-09T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-05-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-05-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-14T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-05-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-05-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-13T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-16T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-12T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-15T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-11T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-20T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-09T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-19T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-08T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-04-01T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <!-- 1990s -->

                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-14T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-14T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-04-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-04-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-13T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-13T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-04-05T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-04-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-11T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-11T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-04-04T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-04-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-10T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-10T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-04-03T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-04-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-09T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-09T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-04-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-08T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-08T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-04-07T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-04-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-06T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-06T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-04-06T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-04-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-12T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-12T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T01:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                        </xsl:attribute>
                    </xsl:when>
                    <xsl:when
                        test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-04-02T00:00:00'))]">
                        <xsl:variable name="attribute-name" select="node-name(.)"/>
                        <xsl:attribute name="{$attribute-name}">
                            <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                        </xsl:attribute>
                    </xsl:when>

                    <xsl:otherwise>
                        <xsl:copy>
                            <xsl:apply-templates select="."/>
                        </xsl:copy>
                    </xsl:otherwise>
                </xsl:choose>

            </xsl:when>

            <!-- ============================== -->
            <!-- Default to current values if placeName not defined above -->
            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>

    </xsl:template>




    <!-- Helsinki, Finland -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Helsinki|Helsingfors)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:39')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-04-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-04-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-10-04T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-10-04T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Honiara, Solomon Islands -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Honiara)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+10:39')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Honolulu, USA -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Honolulu)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1896-01-13T12:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-10:31')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1896-01-13T12:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-10:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-05-21T12:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-09:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-05-21T12:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-02-09T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-10:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-02-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-09:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-06-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-10:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-06-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-10:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Hong Kong -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Hong\s+Kong)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1904-10-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:36')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1904-10-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-06-15T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-06-15T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-09-30T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-09-30T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-04-20T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-04-20T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-12-01T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-12-01T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-13T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-13T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-12-30T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-12-30T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-05-02T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-05-02T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-31T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-31T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-03T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-03T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-30T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-30T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-04-02T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-04-02T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-10-29T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-10-29T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-04-01T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-04-01T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-10-28T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-10-28T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-04-06T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-04-06T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-11-02T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-11-02T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-04-05T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-04-05T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-11-01T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-11-01T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-03-21T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-03-21T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-10-31T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-10-31T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-03-20T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-03-20T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-11-06T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-11-06T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-03-18T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-03-18T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-11-04T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-11-04T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-03-24T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-03-24T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-11-03T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-11-03T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-03-23T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-03-23T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-11-02T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-11-02T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-03-22T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-03-22T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-11-01T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-11-01T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-03-20T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime(' 1960-03-20T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-11-06T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-11-06T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-03-19T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-03-19T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-11-05T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-11-05T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-03-18T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-03-18T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-11-04T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-11-04T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-03-24T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-03-24T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-11-03T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-11-03T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-03-22T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-03-22T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-11-01T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-11-01T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-04-18T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-04-18T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-10-17T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-10-17T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-04-17T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-04-17T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-10-16T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-10-16T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-04-16T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-04-16T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-10-22T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-10-22T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-04-21T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-04-21T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-10-20T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-10-20T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-04-20T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-04-20T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-10-19T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-10-19T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-04-19T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-04-19T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-10-18T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-10-18T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-04-18T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-04-18T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-17T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-17T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-04-16T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-04-16T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-22T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-22T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-04-22T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-04-22T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-21T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-21T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-12-30T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-12-30T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-20T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-20T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-20T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-20T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-19T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-19T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-04-18T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-04-18T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-17T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-17T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-05-13T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-05-13T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-21T03:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-21T03:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Islamabad, Karachi, and Rawalpindi, Pakistan -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Islamabad|Karachi|Kar[āa]c[īi]|Sindh|Rawalpindi)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1907-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:28')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1907-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2002-04-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Jakarta, Indonesia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Jakarta)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-12-31T23:47:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:07')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-12-31T23:47:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:20')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-03-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-03-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Jerusalem -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Jerusalem|Yerushalayim|Al-Quds)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:20')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-11-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-11-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-04-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-05-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-05-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-11-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-11-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-11-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-11-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-04-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-04-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-09-15T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-09-15T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-11-11T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-11-11T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-04-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-04-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-10-19T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-10-19T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-04-12T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-04-12T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-09-13T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-09-13T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-06-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-06-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-09-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-09-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-06-11T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-06-11T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-09-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-09-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-06-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-06-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-09-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-09-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-07-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-07-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-20T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-08-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-08-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-05-18T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-05-18T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-04-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-04-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-04-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-04-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-04-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-08-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-08-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-04-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-08-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-08-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-09-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-09-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-09-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-09-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-20T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-09-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-09-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-09-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-09-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-04-14T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Juba, South Sudan -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Juba)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:06')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-04-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-04-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-04-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-04-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-04-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-04-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-04-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-04-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-01-15T12:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Kabul, Afghanistan -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Kabul)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1890-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:36')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1890-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:30')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Kampala, Uganda -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Kampala)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-07-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:09')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:45')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Kathmandu, Nepal -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Kathmandu|Katmandu)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:41')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:54')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Khartoum, Sudan -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Khartoum|Al-Khar[ṭt][ūu]m)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:10')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-04-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-04-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-04-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-04-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-04-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-04-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-04-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-04-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-01-15T12:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Kigali, Rwanda -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Kigali)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Kingston, Jamaica -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Kingston)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-02-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:07')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-02-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-01-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-01-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-02-23T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-02-23T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Kingstown, Saint Vincent and Grenadines -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Kingstown)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:04')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Kinshasa, Democratic Republic of Congo -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Kinshasa|L[ée]opoldville)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1897-11-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:01')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1897-11-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Kuala Lumpur, Malaysia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Kuala\s+Lumpur)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1901-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:46')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1901-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1905-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:55')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1905-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:20')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-02-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-02-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Kuwait City, Kuwait -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Kuwait)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:11')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Kyiv, Ukraine -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Kyiv|Kiev)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-05-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:02')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-05-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-06-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-06-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-09-20T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-09-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-11-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-11-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-07-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-07-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- La Paz and Sucre, Bolivia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(La\s+Paz|Sucre)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:32')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:32')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-03-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Libreville, Gabon -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Libreville)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:37')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Lilongwe and Blantyre/Mandala, Malawi -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Lilongwe|Blantyre|Mandala)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1903-03-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:20')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1903-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Lima, Peru -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Lima)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1908-07-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:08')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1908-07-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-03-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-09-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-03-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-03-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Lisbon, Portugal -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Lisbon|Lisboa)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-12-31T23:23:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-00:36')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-12-31T23:23:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-06-17T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-06-17T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-11-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-11-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-02-28T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-02-28T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-03-01T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-03-01T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-02-28T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-02-28T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-02-29T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-02-29T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-02-28T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-02-28T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-04-16T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-04-16T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-04-17T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-04-17T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-10-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-04-09T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-04-09T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-04-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-04-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-04-20T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-04-20T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-10-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-04-18T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-04-18T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-04-02T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-04-02T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-04-07T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-04-07T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-03-30T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-03-30T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-10-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-04-18T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-04-18T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-10-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-04-03T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-04-03T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-03-26T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-03-26T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-15T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-15T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-11-19T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-11-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-02-24T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-02-24T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-10-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-05T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-05T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-10-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-03-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-03-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-04-25T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-04-25T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-08-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-08-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-10-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-10-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-13T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-13T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-04-17T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-04-17T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-08-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-08-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-03-11T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-03-11T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-22T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-22T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-08-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-08-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-03-10T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-03-10T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-21T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-21T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-08-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-08-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-10-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-10-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-04-06T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-04-06T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-06T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-06T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-10-05T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-04-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-10-07T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-10-05T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-04-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-10-07T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-04-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-04-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-10-05T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-10-01T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-10-07T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-04-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-04-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-04-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-09-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-09-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-03-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-25T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-03-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-03-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Ljubljana, Slovenia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Ljubljana)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1884-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:22')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1884-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-18T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-18T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-05-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-05-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Lomé, Togo -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Lom[ée]$)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1893-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:04')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1893-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- London, England -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(London)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <!-- 1800 to 1920 -->
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1847-12-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:01')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1847-12-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-05-21T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-05-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-09-17T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-03-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-03-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-10-08T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-10-08T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-04-22T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-04-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-03-13T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-03-13T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-09-21T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-09-21T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-04-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-10-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-10-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-04-18T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-04-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-04-10T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-04-10T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-04-22T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-04-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-10-07T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-04-21T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-04-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-04-13T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1930s -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-04-13T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-10-05T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-04-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-04-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-04-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-04-09T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-04-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-10-08T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-10-08T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-04-22T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-04-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-10-07T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-04-14T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-04-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-04-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-04-18T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-04-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-04-10T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-04-10T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-11-19T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-11-19T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-02-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1940s -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-02-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-05-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-05-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-08-10T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-08-10T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-08-09T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-08-09T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-04-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-08-15T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-08-15T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-09-17T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-07-15T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-07-15T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-10-07T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-04-14T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-04-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-04-14T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-04-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-03-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-03-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-13T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-13T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-08-10T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-08-10T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-03-14T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-03-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-04-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-10-22T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-10-22T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-04-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-10-21T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-10-21T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-04-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-04-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-04-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-04-11T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-04-11T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-04-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-04-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-04-22T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-04-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-10-07T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-04-14T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-04-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-10-07T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-04-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-04-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-10-05T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-04-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-04-10T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-04-10T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-10-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-10-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-10-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-10-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-03-22T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-03-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-03-21T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-03-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-10-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-10-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-03-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-03-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-10-23T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-10-23T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-03-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-03-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-10-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-10-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-02-18T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-02-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-10-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-02-18T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-02-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1970s -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-03-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-03-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-03-18T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-03-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-03-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-03-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-03-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-03-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-03-21T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-03-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-03-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-03-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-23T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-23T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-03-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-03-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-03-18T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-03-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-03-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-03-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-23T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-23T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-23T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-23T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1990s -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-23T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-23T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-22T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Los Angeles, Palm Springs, San Clemente, and San Francisco, California -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Los\s+Angeles|Palm\s+Springs|San\s+Clemente|San\s+Francisco)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1883-11-18T12:07:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:52')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1883-11-18T12:07:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-02-09T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-02-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-03-14T02:01:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-03-14T02:01:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-01-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-01-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-04-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-04-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-09-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-09-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-04-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-04-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-04-27T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-04-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-09-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-09-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-04-25T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-04-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-09-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-09-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-04-24T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-04-24T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-09-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-09-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-04-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-04-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-04-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-04-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-09-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-09-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-04-27T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-04-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-09-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-09-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-04-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-04-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-09-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-04-24T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-04-24T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-09-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-09-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-04-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-04-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-09-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-09-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-04-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-04-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-04-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-04-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-04-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-04-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-04-25T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-04-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-04-24T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-04-24T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-01-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-01-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-02-23T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-02-23T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-04-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-04-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-04-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-04-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-04-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-08:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Luanda, Angola -->
    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Luanda)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-05-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:52')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-05-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Lusaka, Zambia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Lusaka)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1903-03-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:53')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1903-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Luxembourg, Luxembourg -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Luxembourg)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1904-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:24')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1904-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-05-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-05-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-28T23:59:59'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-28T23:59:59')) and (xs:dateTime(.) &lt; xs:dateTime('1917-09-17T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-09-17T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-11-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-11-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-01T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-01T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-05T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-02-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-02-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-03-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-03-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-03-25T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-03-25T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-10-08T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-10-08T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-04-21T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-04-21T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-10-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-10-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-03-29T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-03-29T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-10-05T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-10-05T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-04-05T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-04-05T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-10-04T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-10-04T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-04-17T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-04-17T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-10-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-10-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-04-09T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-04-09T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-10-02T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-10-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-04-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-04-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-10-07T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-10-07T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-04-20T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-04-20T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-04-13T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-04-13T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-10-05T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-04-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-10-08T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-10-08T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-04-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-04-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-10-07T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-04-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-04-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-04-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-11-19T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-11-19T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-02-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-02-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-05-14T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-05-14T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-09-18T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-09-18T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-05-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-05-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-07T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Madrid, Spain -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Madrid)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1900-12-31T23:45:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-00:14')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1900-12-31T23:45:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-15T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-15T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-07T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-07T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-04-06T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-04-06T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-07T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-07T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-04-16T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-04-16T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-10-05T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-10-05T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-04-17T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-04-17T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-10-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-10-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-04-09T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-04-09T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-10-02T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-10-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-04-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-04-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-10-07T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-10-07T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-04-20T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-04-20T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-10-06T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-10-06T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-06-16T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-06-16T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-04-02T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-04-02T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-04-30T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-04-30T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-10-08T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-10-08T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-03-16T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-03-16T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-05-02T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-05-02T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-09-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-09-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-04-17T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-04-17T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-15T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-15T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-04-13T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-04-13T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-09-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-09-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-30T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-30T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-02T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-04-13T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-04-13T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-06T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-06T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-12T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-12T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-05T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-05T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-03-27T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-03-27T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-09-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-09-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-02T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-02T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-25T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Majuro, Marshall Islands -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Majuro)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1901-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:24')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1901-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Malabo, Equatorial Guinea -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Malabo)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:35')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-12-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-12-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Male, Maldives -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Male$)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:54')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Managua, Nicaragua -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Managua)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-06-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:45')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-06-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-01-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-01-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-02-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-02-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-03-18T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-03-18T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-06-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-06-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-03-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-03-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-06-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-06-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-01-01T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-01-01T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-02-20T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-02-20T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2005-04-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Manama, Bahrain -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Manama)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:22')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Manila, Philippines -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Manila)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1844-12-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-15:56')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1844-12-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1899-05-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:04')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1899-05-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-02-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-02-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-04-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-04-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-07-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-03-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-03-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-09-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-09-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Maputo, Mozambique -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Maputo)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1903-03-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:10')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1903-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Maseru, Lesotho -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Maseru)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1903-03-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:50')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1903-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-09-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-09-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-03-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-03-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Mbabane, eSwatini (formerly Swaziland) -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Mbabane)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1903-03-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:04')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1903-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Melekeok and Koror, Palau -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Melekeok|Koror)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1901-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:57')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1901-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Mexico City, Mexico -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Mexico)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <!-- 1800 to 1922 -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-01-01T12:23:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:36')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-01-01T12:23:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-06-10T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-06-10T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-11-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-11-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-05-01T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-05-01T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-02-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-02-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-06-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-06-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-12-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-12-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-12-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-12-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-02-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-02-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-07-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-07-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-04-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-04-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-04-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Minsk, Belarus -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Minsk)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1880-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:50')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1880-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-05-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:50')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-05-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-06-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-06-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-06-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-06-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-07-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-07-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Mogadishu, Somalia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Mogadishu)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1893-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:01')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1893-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Monaco, Monaco -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Monaco)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1891-03-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:29')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1891-03-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-03-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:09')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-03-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-06-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-06-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-03-24T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-03-24T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-10-08T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-03-09T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-03-09T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-01T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-01T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-02-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-02-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-03-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-03-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-10-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-10-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-03-25T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-03-25T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-10-08T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-05-26T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-05-26T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-03-29T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-03-29T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-10-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-04-04T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-04-04T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-10-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-04-27T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-04-27T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-10-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-04-09T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-04-09T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-04-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-04-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-04-20T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-04-20T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-10-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-04-12T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-04-12T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-10-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-04-18T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-04-18T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-04-02T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-04-02T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-03-25T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-03-25T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-10-08T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-04-07T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-04-07T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-03-30T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-03-30T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-10-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-04-18T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-04-18T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-10-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-04-03T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-04-03T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-03-26T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-03-26T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-15T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-15T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-11-19T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-11-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-02-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-02-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-05-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-05-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-10-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-03-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-03-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-08T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-08T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-03-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-03-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-09-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-09-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Monrovia, Liberia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Monrovia)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-00:43')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-01-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-00:44')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-01-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Montevideo and Punta del Este, Uruguay -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Montevideo|Punta\s+del\s+Este)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:44')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-10-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-10-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-10-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-10-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-10-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-10-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-10-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-10-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-03-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-03-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-03-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-10-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-10-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-03-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-03-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-08-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-08-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-12-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-12-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-05-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-05-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-11-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-11-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-01-17T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-01-17T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-03-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-03-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-04-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-04-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-09-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-05-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-05-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-12-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-12-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-04-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-04-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-06-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-06-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-04-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-04-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-07-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-07-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-01-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-01-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-03-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-03-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-12-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-12-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-03-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-03-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-12-19T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-12-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-03-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-03-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-12-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-12-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-03-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-03-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-12-17T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-12-17T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-03-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-03-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-03-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-03-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-12-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-12-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-02-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-02-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-12-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-12-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-02-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-02-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-18T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-18T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-02-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-02-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2004-09-19T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Moroni, Coromos -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Moroni)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-07-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:53')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Moscow and Saint Petersburg, Russia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Moscow|Moskva|Petrograd|Leningrad|Sankt\s+Peterburg|Sankt[-–—]Peterburg|Saint\s+Petersburg|Saint[-–—]Peters?burg|St.?\s+Peters?burg|St.?[-–—]Petersburg)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-07-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-07-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-07-01T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:31')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-07-01T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-12-18T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:31')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-12-18T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-05-31T22:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:31')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-05-31T22:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-16T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:31')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-16T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-05-31T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:31')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-05-31T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-07-01T04:31:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:31')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-07-01T04:31:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-08-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-08-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-02-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-02-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-03-20T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-03-20T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-06-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-06-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-01-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-01-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Muscat, Oman -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Muscat)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:54')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Nairobi, Kenya -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Nairobi)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-07-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:27')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-07-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:45')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Nassau, The Bahamas -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Nassau)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-03-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:09')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-03-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-10-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-10-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-04-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-04-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-04-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-04-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-04-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-04-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>


    <!-- N'Djamena, Chad -->


    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(N.?Djamena|NDjamena)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">

        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:14')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- New Delhi and Kolkata, India -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(New\s+Delhi|Delhi|Calcutta|Kolkata)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">

        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:53')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-05-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-05-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:30')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Niamey, Niger -->
    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Niamey)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">

        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:08')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-02-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-02-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>


    <!-- Nicosia, Cyprus -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Nicosia|Lefkosia|Lefko[sş]a)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">

        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-11-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:13')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-11-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-05-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-05-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-09-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Nouakchott, Mauritania -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Nouakchott)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">

        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:03')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-02-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-02-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-11-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-11-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Nuku'alofa, Tonga -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Nuku.?alofa|Nukualofa)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">

        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1901-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:19')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1901-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:20')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-19T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+14:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Oslo, Norway -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Oslo)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">

        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1895-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:43')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1895-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-05-22T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-05-22T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-08-10T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-08-10T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-10-01T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-10-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-03-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-03-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-09-20T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-09-20T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-03-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-03-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-09-18T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-09-18T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-03-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-03-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-09-17T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-03-18T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-03-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-03-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-03-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-09-15T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-09-15T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-03-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-03-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-09-20T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-09-20T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-09-19T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-09-19T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Ottawa and Montréal/Montreal Canada -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Ottawa|Montréal|Montreal)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">

        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1884-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:54')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1884-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-14T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-31T02:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-31T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-25T02:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-25T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-05-02T02:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-05-02T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-03T02:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-03T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-05-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-05-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-10-02T02:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-10-02T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-10-01T02:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-10-01T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-05-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-05-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-09-28T02:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-09-28T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-05-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-05-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-09-27T02:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-09-27T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-05-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-05-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-09-26T02:30:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-09-26T02:30:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-04-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-04-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-04-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-04-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-04-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-04-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-09-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-04-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-04-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-04-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-04-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-04-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-04-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-04-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-04-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-04-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-04-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-04-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-09-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-04-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-04-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-09-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-04-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-04-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-02-09T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-02-09T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-08-14T19:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-08-14T19:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-09-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-09-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-09-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-09-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-09-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-09-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-10-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-09-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-09-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-09-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-09-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-09-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-09-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-09-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-04-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-04-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-04-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-04-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-04-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-04-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>


    <!-- Ouagadougou, Burkina Faso -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Ouagadougou)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-00:06')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>


    <!-- Palikir and Kolonia, Micronesia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Palikir|Kolonia)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1901-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+10:32')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1901-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Panama [City], Panama -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Panama)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1890-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:18')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1890-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1908-04-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:19')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1908-04-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Paramaribo, Suriname -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Paramaribo)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:40')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Paris, France -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Paris)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-03-11T00:01:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:09')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-03-11T00:01:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-06-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-06-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-03-24T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-03-24T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-10-08T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-03-09T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-03-09T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-01T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-01T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-02-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-02-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-03-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-03-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-10-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-10-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-03-25T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-03-25T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-10-08T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-05-26T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-05-26T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-03-29T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-03-29T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-10-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-04-04T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-04-04T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-10-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-04-17T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-04-17T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-10-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-04-09T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-04-09T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-04-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-04-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-04-20T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-04-20T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-10-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-04-12T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-04-12T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-10-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-04-18T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-04-18T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-04-02T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-04-02T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-03-25T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-03-25T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-10-08T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-04-07T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-04-07T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-03-30T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-03-30T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-10-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-04-18T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-04-18T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-10-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-04-03T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-04-03T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-03-26T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-03-26T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-15T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-15T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-11-19T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-11-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-02-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-02-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-06-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-06-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-08T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-03-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-03-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-09-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-09-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>


    <!-- Phnom Penh, Cambodia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Phnom\s+Penh)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1906-06-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:59')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1906-06-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-03-11T00:01:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+7:06')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-03-11T00:01:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-05-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-05-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Podgorica, Montenegro -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Podgorica)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1884-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:22')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1884-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-18T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-18T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-05-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-05-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Port Louis, Mauritius -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Port\s+Louis)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1907-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:50')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1907-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-10T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-10T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2008-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('2008-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2009-03-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Port Moresby, Papua New Guinea -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Port\s+Moresby)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1895-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:48')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1895-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Port of Spain, Trinidad and Tobago -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Port[-–—]of[-–—]Spain|Port\s+of\s+Spain)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-03-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:06')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-03-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Port Vila, Vanuatu -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Port[-–—]Vila|Port\s+Vila)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:13')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-01-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-01-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-01-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-01-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Port-au-Prince, Haiti -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Port[-–—]au[-–—]Prince|Port\s+au\s+Prince)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-01-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:49')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-01-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-05-08T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-05-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-04-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-04-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-04-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-04-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-04-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-04-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-04-02T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-04-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-04-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-04-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-04-07T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-04-07T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-04-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-04-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-04-04T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-04-04T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-04-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-04-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-04-02T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-04-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-04-07T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-04-07T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-04-06T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-04-06T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2005-04-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Porto-Novo and Cotonou, Benin -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Porto-Novo|Porto\s+Novo|Cotonou)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:10')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-02-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-02-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Prague, Czech Republic -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Prague)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1891-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:57')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1891-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-04-30T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-04-30T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-09-17T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-09-17T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-11-18T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-11-18T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-05-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-05-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-10-05T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-04-18T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-04-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-09T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Praia, Cabo Verde -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Praia)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:34')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-11-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-11-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Pretoria, Bloemfontein, Cape Town, and Johannesburg, South Africa -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Bloemfontein|Cape\s+Town|Johannesburg|Pretoria)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1892-02-08T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:52')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1892-02-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1903-03-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1903-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-09-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-09-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-21T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-09-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-09-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-03-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-03-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Pristina, Kosovo -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Pristina)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1884-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:22')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1884-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-18T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-18T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-05-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-05-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Pyongyang, North Korea -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Pyongyang|P.?y[ŏo]ngyang|Pyeongyang)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1908-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:23')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1908-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2015-08-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Quito and Guayaquil, Ecuador -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Quito|Guayaquil)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1890-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:19')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1890-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:14')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-11-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-11-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-02-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-02-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Rabat and Casablanca, Morocco -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Rabat|Casablanca)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1913-10-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-00:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1913-10-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-09-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-09-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-11-19T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-11-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-02-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-02-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-11-18T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-11-18T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-06-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-06-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-10-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-10-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-06-03T12:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-06-03T12:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-06-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-06-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-08-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-08-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-08-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-08-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2008-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Rangoon, Burma (Myanmar) -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Rangoon|Yangon|Naypyidaw|Nay\s+Pyi\s+Taw)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:24')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-05-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-05-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:30')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Reykjavik, Iceland -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Reykjavik)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1908-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:28')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1908-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-02-19T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-02-19T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-10-21T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-10-21T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-02-19T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-02-19T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-11-16T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-11-16T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-02-19T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-02-19T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-11-16T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-11-16T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-03-19T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-03-19T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-06-23T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-06-23T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-29T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-29T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-02-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-02-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-11-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-11-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-03-02T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-03-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-11-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-11-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-03-08T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-03-08T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-07T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-07T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-03-05T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-03-05T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-22T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-03-04T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-03-04T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-03-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-03-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-06T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-06T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-04-04T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-04-04T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-04-02T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-04-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-10-22T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-10-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-04-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-04-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-04-06T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-04-06T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-04-05T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-04-05T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-04-04T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-04-04T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-10-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-10-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-04-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-04-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-10-23T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-10-23T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-04-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-04-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-04-07T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-04-07T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-04-06T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-04-06T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-04-05T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-04-05T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-04-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-04-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-10-23T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-10-23T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-04-02T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-04-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-10-22T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-10-22T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-04-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-04-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-04-07T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-04-07T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-04-05T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-04-05T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-04-04T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-04-04T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-10-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-10-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-04-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-04-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-10-23T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-10-23T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-04-02T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-04-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-04-07T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-04-07T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Riga, Latvia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Riga)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:36')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:36')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:36')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-05-22T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:36')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-05-22T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-05-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:36')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-05-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-08-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-08-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-07-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Riyadh and Jeddah, Saudi Arabia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Riyadh|Jeddah?|Jiddah?)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-03-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:06')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-03-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Rome, Italy -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Rome|Roma)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1893-10-31T23:49:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:49')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1893-10-31T23:49:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-06-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-06-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-03-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-03-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-03-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-09-19T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-09-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-06-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-06-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-09-17T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-15T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-15T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-03-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-03-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-03-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-03-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-10-05T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-10-05T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-02-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-02-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-05-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-05-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-05-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-05-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-09-24T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-09-24T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-05-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-05-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-09-22T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-09-22T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-09-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-09-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-05-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-05-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-09-27T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-09-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-05-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-05-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-09-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-09-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-05-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-05-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-06-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-06-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-09-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-09-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-05-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-05-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-09-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-09-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-09-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-09-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-05-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-05-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-09-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-09-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-05-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-05-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-25T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-05-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-05-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-05-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-05-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Roseau, Dominica -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Roseau)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-07-01T00:01:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:05')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-07-01T00:01:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Saint George's, Grenada -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(St.?\s+George’*s|Saint\s+George’*s)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-07-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:07')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Saint John's, Antigua and Barbuda -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Saint\s+John’?s)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-03-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:07')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-03-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- San José, Costa Rica -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(San\s+Jose|San\s+José)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <!-- 1800 to 1921 -->
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-01-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:36')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1920 to 1979 -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-01-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-01-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-01-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-06-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-06-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-02-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-02-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-06-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-06-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-02-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1980s -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-02-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-01-19T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1990s -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-01-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-07-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-01-18T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-01-18T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- San Marino, San Marino -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(San\s+Marino)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1893-10-31T23:49:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:49')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1893-10-31T23:49:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-06-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-06-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-03-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-03-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-03-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-09-19T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-09-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-06-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-06-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-09-17T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-15T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-15T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-03-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-03-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-03-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-03-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-10-05T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-10-05T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-02-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-02-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-05-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-05-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-05-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-05-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-09-24T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-09-24T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-05-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-05-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-09-22T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-09-22T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-09-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-09-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-05-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-05-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-09-27T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-09-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-05-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-05-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-09-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-09-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-05-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-05-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-06-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-06-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-09-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-09-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-05-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-05-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-09-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-09-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-09-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-09-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-05-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-05-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-09-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-09-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-05-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-05-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-25T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-05-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-05-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-05-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-05-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- San Salvador, El Salvador -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(San\s+Salvador)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:56')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-05-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-05-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Sana and Aden, Yemen -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Aden|Sanaa?)')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Santiago, Chile -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Santiago)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1910-01-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:42')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1910-01-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-07-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-07-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:42')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-07-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:42')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-08-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-08-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-07-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-07-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-05-21T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-05-21T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-11-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-11-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-03-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-03-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-11-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-11-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-10-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-10-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-03-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-03-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-03-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-03-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-03-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-03-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-03-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-03-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-03-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-03-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-03-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-03-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-03-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-03-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-03-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-03-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-03-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-03-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-03-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-03-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-04-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-04-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-04-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-04-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-03:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Santo Domingo, Dominican Republic -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Santo\s+Domingo)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1890-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:39')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1890-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-04-01T12:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:40')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-04-01T12:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-10-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-10-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-02-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-02-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-10-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-10-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-02-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-02-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-10-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-10-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-01-20T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-01-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-01-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-01-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-01-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-01-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-01-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-01-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('2000-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-12-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('2000-12-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Sarajevo, Bosnia-Herzegovina -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Sarajevo)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:22')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-18T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-18T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-05-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-05-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- São Tomé, Sao Tome and Principe -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(S[ãa]o\s+Tom[ée])', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1884-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:26')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1884-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-12-31T23:23:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:36')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-12-31T23:23:00')) and (xs:dateTime(.) &lt; xs:dateTime('2018-01-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>


    <!-- Seoul, South Korea -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Seoul)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1890-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:27')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1890-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1908-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1908-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-09-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-09-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-09-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-09-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-09-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-09-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-05-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-05-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-09-08T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-09-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-03-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-05-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-05-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-09-08T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-09-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-05-20T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-05-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-05-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-05-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-09-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-09-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-05-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-05-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-09-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-09-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-05-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-05-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-09-20T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-09-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-09-18T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-09-18T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-08-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-08-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-05-10T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-05-10T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-11T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-11T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-05-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-05-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-09T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Shanghai and Beijing/Peking, China -->
    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Shanghai|Beijing|Peking)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1901-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:05')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1901-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-10-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-10-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-03-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-03-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-11-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-11-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-01-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-01-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-05-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-05-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-05-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-05-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-14T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-04-12T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-04-12T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-13T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-13T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-04-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-04-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-11T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-11T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-04-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-04-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-04-14T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-04-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Singapore, Singapore -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Singapore)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1905-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:55')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1905-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:20')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-02-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-02-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Skopje, Macedonia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Skopje)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1884-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:22')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1884-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-18T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-18T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-05-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-05-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Sofia, Bulgaria -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Sofia)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1880-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:33')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1880-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1894-11-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:56')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1894-11-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-03-31T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-03-31T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-05T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-05T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-04T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-04T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-03T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-03T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T04:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T04:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Stockholm, Sweden -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Stockholm)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1879-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:12')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1879-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-05-14T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-05-14T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Suva, Fiji -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Suva$)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1915-10-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:55')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1915-10-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-11-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-11-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-02-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-02-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-11-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-11-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-02-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('2000-02-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2009-11-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('2009-11-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2010-03-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Taipei, Taiwan -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Taipei)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1896-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:06')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1896-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-21T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-21T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-05-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-05-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-03-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-07-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Tallinn, Estonia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Tallinn)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-02-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:39')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-02-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-07-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-07-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:39')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-08-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-08-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-09-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-09-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-09-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-09-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Tarawa, Kiribati -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Tarawa)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1901-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:32')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1901-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Tashkent, Uzbekistan -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(T[ao]shkent)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-05-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:37')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-05-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-06-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-06-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Tbilisi, Georgia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Tbilisi)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-05-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:59')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-05-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-03-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Tegucigalpa, Honduras -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Tegucigalpa)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:48')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-05-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-05-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2006-05-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-06:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Tehran, Iran -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Tehran|Teheran)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:25')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-03-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-03-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-19T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-03-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-05-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-05-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-09-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-09-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-09-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-09-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-09-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-09-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-09-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-09-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:30')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Tel Aviv, Israel -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Tel\s+A.?viv)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:20')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-11-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-11-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-04-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-05-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-05-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-11-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-11-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-11-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-11-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-04-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-04-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-09-15T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-09-15T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-11-11T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-11-11T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-04-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-04-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-10-19T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-10-19T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-04-12T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-04-12T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-09-13T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-09-13T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-06-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-06-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-09-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-09-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-06-11T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-06-11T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-09-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-09-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-06-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-06-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-09-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-09-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-07-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-07-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-20T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-08-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-08-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-05-18T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-05-18T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-04-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-04-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-13T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-13T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-04-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-04-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-04-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-08-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-08-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-04-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-08-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-08-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-09-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-09-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-09-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-09-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-20T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-20T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-09-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-09-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-09-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-09-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-04-14T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Thimphu, Bhutan -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Thimphu)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-08-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:58')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-08-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Tirana, Albania -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Tirana)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1914-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:19')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1914-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-06-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-06-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-04-10T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-04-10T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-05-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-05-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-05-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-05-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-05-08T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-05-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-05-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-05-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-05-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-05-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-05-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-05-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-05-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-05-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-18T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-18T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Tokyo and Kyoto, Japan -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Tokyo|Kyoto)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1888-01-01T12:18:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:18')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1888-01-01T12:18:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-05-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-05-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-09-11T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-09-11T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-09-10T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-09-10T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-05-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-05-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-09-09T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-09-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-05-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-05-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-09-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+10:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-09-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2031-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Tripoli, Libya -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Tripoli|[TṬ]ar[aā]bulus|[TṬ]ar[aā]blus|Trablus)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:52')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-10-14T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-10-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-10-09T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-10-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-04-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-04-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-05-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-05-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-04-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-04-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2012-11-10T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Tunis, Tunisia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Tunis)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1881-05-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:40')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1881-05-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-03-11T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:09')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-03-11T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-15T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-15T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-11-19T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-11-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-02-25T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-02-25T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-10-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-10-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-03-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-03-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:0')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-04-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-04-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-24T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-24T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2005-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Ulaanbaatar, Mongolia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Ulaanbaatar|Ulan[-\s+]Bator|Ulaganbagatur|Khure|Kh[üu]ree|Kulun|Kuren|Urga)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1905-08-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:07')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1905-08-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-09-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2001-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Vaduz, Liechtenstein -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Vaduz)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1894-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:38')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1894-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-05-05T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-05-05T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-10-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-10-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-05-04T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-05-04T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-10-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-10-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Vaiaku Village and Funafuti, Tuvalu -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Funafuti|Vaiaku)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1901-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:56')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1901-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Valletta, Malta -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Valletta)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1893-11-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:58')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1893-11-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-06-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-06-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-03-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-03-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-03-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-09-19T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-09-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-06-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-06-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-09-17T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-15T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-15T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-03-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-03-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-03-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-03-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-10-05T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-10-05T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-02-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-02-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-05-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-05-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-05-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-05-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-09-24T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-09-24T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-05-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-05-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-09-22T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-09-22T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-09-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-09-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-05-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-05-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-09-27T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-09-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-05-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-05-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-09-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-09-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-05-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-05-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-09-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-09-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-04-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-04-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-09-16T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-09-16T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-04-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-04-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-09-21T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-09-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-04-18T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-04-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-09-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-09-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-18T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-09-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-09-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-21T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Vatican City, Vatican City State [Holy See] -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Vatican|Holy\s+See)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1893-10-31T23:49:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:49')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1893-10-31T23:49:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-06-04T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-06-04T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-03-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-03-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-07T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-07T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-03-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-09-19T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-09-19T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-06-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-06-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-09-17T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-15T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-15T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-03-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-03-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-03-16T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-03-16T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-10-05T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-10-05T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-02-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-02-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-05-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-05-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-05-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-05-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-09-24T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-09-24T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-05-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-05-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-09-22T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-09-22T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-09-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-09-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-05-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-05-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-09-27T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-09-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-05-23T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-05-23T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-09-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-09-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-05-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-05-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-06-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-06-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-09-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-09-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-05-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-05-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-09-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-09-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-09-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-09-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-05-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-05-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-09-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-09-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-05-22T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-05-22T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-25T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-05-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-05-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-05-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-05-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Victoria, Seychelles -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Victoria,?\s+Seychelles)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1906-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:41')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1906-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Vienna, Austria -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Vienna)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <!-- 1800 to 1893 -->
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1893-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:05')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1894 to 1916 -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1893-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-04-30T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1917 to 1940 -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-04-30T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-09-17T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-13T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-13T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1940s -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-12T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-12T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-04-14T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-04-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-10-05T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-04-18T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-04-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1948 to 1980 -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1980s -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1990s -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Vientiane, Laos -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Vientiane)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1906-06-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+06:50')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1906-06-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1911-03-11T00:01:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:06')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1911-03-11T00:01:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+08:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+07:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Vilnius, Lithuania -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Vilnius)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1880-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:41')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1880-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:24')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-10T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:35')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-10T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-07-12T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-07-12T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-09T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-09T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-08-03T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-08-03T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-06-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-06-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-08-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-08-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2003-03-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Warsaw, Poland -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Warsaw|Warszawa)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1915-08-05T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:24')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1915-08-05T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-04-30T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-04-30T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1916-10-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1916-10-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-04-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-04-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1917-09-17T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1917-09-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-04-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-04-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-04-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-06-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-06-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-06-23T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-06-23T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-10-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-10-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-04-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-04-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-11-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-11-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-04-14T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-04-14T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-10-07T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-10-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-05-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-05-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-10-05T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-10-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-04-18T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-04-18T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-10-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-10-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-10T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-10T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-10-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-10-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-06-02T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-06-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-09-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-09-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-03-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-03-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-09-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-09-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-05-31T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-05-31T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-10-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-10-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-04-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-04-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-10-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-10-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-05-27T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-05-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-05-26T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-05-26T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-09-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-09-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-05-31T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-05-31T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-09-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-03T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-03T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-09-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-09-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-02T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-02T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-01T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-01T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-06T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-06T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-09-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-09-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-09-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-28T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-28T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-09-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-09-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T01:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T01:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Washington, D.C., Camp David, New York, Glassboro (N.J.), and Key Biscayne, United States -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Washington|Camp\s+David|New\s+York|Glassboro|Key\s+Biscayne)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <!-- 1800 to 1883 -->
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1883-11-18T12:02:59'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:56')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1883 to 1917 -->
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1883-11-18T12:03:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1918 to 1919 -->
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1918-10-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1918-10-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1919-10-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1919-10-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1920s -->
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1920-10-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1920-10-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1922-09-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1922-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1923-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1923-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-09-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1925-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1925-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1926-09-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1926-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1930s -->
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-09-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-09-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-09-27T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-09-27T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-09-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-09-24T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-09-24T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1940s -->
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-09-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-02-09T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-02-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1946-09-29T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1946-09-29T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1947-09-28T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1947-09-28T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1948-09-26T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1948-09-26T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1949-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1950s -->
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1949-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1950-09-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1950-09-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1951-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1951-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1952-09-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1952-09-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1953-09-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1953-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-09-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-09-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1955-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1955-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1954-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1954-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1956-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1956-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1958-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1958-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1959-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1959-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1960s -->
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1960-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1960-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1961-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1961-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1962-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1962-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1963-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1963-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1964-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1964-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1965-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1965-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1966-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1966-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1967-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1967-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1968-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1968-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1969-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1969-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1970s -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1970-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1970-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1971-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1971-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1972-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1972-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1973-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1973-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-01-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-01-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-02-23T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-02-23T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1980s -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-04-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-04-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-04-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <!-- 1990s -->

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-04-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-04-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-04-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-04-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-04-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-04-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-05:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Wellington and Auckland, New Zealand -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Wellington|Auckland)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1868-11-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:39')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1868-11-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1927-11-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1927-11-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-03-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-03-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1928-10-14T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1928-10-14T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-03-17T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-03-17T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1929-10-13T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1929-10-13T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-03-16T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-03-16T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1930-10-12T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1930-10-12T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-03-15T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-03-15T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1931-10-11T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1931-10-11T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-03-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-03-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1932-10-09T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1932-10-09T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-03-19T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-03-19T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1933-10-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1933-10-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-04-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-04-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1934-09-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1934-09-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1935-09-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1935-09-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-04-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-04-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1936-09-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1936-09-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-04-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-04-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1937-09-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1937-09-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-04-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-04-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1938-09-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1938-09-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-04-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-04-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1939-09-24T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1939-09-24T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-04-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-04-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1940-09-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1940-09-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1974-11-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1974-11-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-02-23T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-02-23T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1975-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1975-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-03-07T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-03-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1976-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1976-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-03-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-03-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1977-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1977-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-03-05T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-03-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1978-10-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1978-10-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-03-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-03-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-03-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-03-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1980-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1980-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-03-01T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-03-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-03-07T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-03-07T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-10-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-10-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-03T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-03T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-10-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-10-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-10-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-10-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-01T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-01T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-10-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-10-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-06T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-06T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-10-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-10-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-05T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-05T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-10-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-10-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-18T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-18T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-10-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-10-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-17T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-10-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-10-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-15T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-15T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-10-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-10-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-21T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-21T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-10-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-10-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-20T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-20T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-10-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-10-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-19T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-19T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-10-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-10-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-17T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-17T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-15T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-15T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-21T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-21T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-19T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+13:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Windhoek, Namibia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Yaoundé|Yaounde|Douala)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1892-02-08T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:08')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1892-02-08T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1903-03-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1903-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-09-20T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-09-20T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-21T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-21T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-21T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-21T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-04-02T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-04-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-04-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-09-01T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-09-01T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-04-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-04-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-09-07T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-09-07T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-04-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-04-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-09-06T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-09-06T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-04-04T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-04-04T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-09-05T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-09-05T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-04-02T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Yaoundé and Douala, Cameroon -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Yaoundé|Yaounde|Douala)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:38')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Yamoussoukro and Abidjan, Cote d'Ivoire -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Yamoussoukro|Abidjan)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1912-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '-00:16')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1912-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+00:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Yaren, Nauru -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Yaren|Makwa|Moqua)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>

            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1921-01-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:07')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1921-01-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-03-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-03-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-08-15T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+09:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-08-15T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1979-05-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+11:30')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1979-05-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2030-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+12:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

    <!-- Yerevan, Armenia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Yerevan)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1924-05-02T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:58')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1924-05-02T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1957-03-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1957-03-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1981-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1981-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1982-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1982-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-10-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-10-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-04-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-04-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+03:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+05:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+04:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>



    <!-- Zagreb, Croatia -->

    <xsl:template
        match="tei:date/attribute::*[ancestor::tei:dateline//tei:placeName[matches(., '(Zagreb)', 'i')] and matches(xs:string(data(.)), '\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$')]">
        <xsl:choose>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1800-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1884-01-01T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:22')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1884-01-01T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1941-04-18T23:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1941-04-18T23:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1942-11-02T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1942-11-02T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1943-10-04T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1943-10-04T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1944-04-03T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1944-04-03T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-05-08T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-05-08T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1945-09-16T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1945-09-16T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1983-09-25T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1983-09-25T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1984-09-30T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1984-09-30T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-03-31T00:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-03-31T00:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1985-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1985-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1986-09-28T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1986-09-28T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1987-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1987-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1988-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1988-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1989-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1989-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-03-25T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-03-25T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1990-09-30T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1990-09-30T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1991-09-29T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1991-09-29T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1992-09-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1992-09-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1993-09-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1993-09-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-03-27T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-03-27T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1994-09-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1994-09-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-03-26T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1995-09-24T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1995-09-24T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-03-31T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-03-31T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1996-10-27T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1996-10-27T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-03-30T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-03-30T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1997-10-26T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1997-10-26T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-03-29T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-03-29T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1998-10-25T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1998-10-25T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-03-28T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+02:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-03-28T02:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('1999-10-31T03:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>
            <xsl:when
                test=".[(xs:dateTime(.) &gt;= xs:dateTime('1999-10-31T03:00:00')) and (xs:dateTime(.) &lt; xs:dateTime('2000-03-26T02:00:00'))]">
                <xsl:variable name="attribute-name" select="node-name(.)"/>
                <xsl:attribute name="{$attribute-name}">
                    <xsl:value-of select="concat(xs:string(.), '+01:00')"/>
                </xsl:attribute>
            </xsl:when>

            <xsl:otherwise>
                <xsl:copy>
                    <xsl:apply-templates select="."/>
                </xsl:copy>
            </xsl:otherwise>
        </xsl:choose>
    </xsl:template>

</xsl:stylesheet>
